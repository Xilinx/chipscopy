<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
<!-- OneTrust Cookies Consent Notice start for xilinx.github.io -->

<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="03af8d57-0a04-47a6-8f10-322fa00d8fc7" ></script>
<script type="text/javascript">
function OptanonWrapper() { }
</script>
<!-- OneTrust Cookies Consent Notice end for xilinx.github.io -->
<!-- Google Tag Manager -->
<script type="text/plain" class="optanon-category-C0002">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5RHQV7');</script>
<!-- End Google Tag Manager -->
  <title>Details &mdash; ChipScoPy 2024.1.1717697699 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
      <link rel="stylesheet" href="../_static/_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="References" href="references.html" />
    <link rel="prev" title="PCIe" href="../pcie.html" /> 
</head>

<body class="wy-body-for-nav">

<!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5RHQV7" height="0" width="0" style="display:none;visibility:hidden" class="optanon-category-C0002"></iframe></noscript>
<!-- End Google Tag Manager --> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
            <a href="../index.html" class="icon icon-home"> ChipScoPy
          </a>
              <div class="version">
                2024.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview.html">ChipScoPy Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../system_requirements.html">System Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chipscopy_installation.html">ChipScoPy Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev_setup.html">Developer Installation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ChipScoPy Debug Core API Classes</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../ddr.html">DDR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ibert.html">IBERT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ila.html">ILA</a></li>
<li class="toctree-l1"><a class="reference internal" href="../memory.html">Memory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../noc.html">NocPerfmon</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../pcie.html">PCIe</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Details</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#core-details">Core Details</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ltssm-state-visit-tracking">LTSSM State Visit Tracking</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ltssm-state-transition-tracking">LTSSM State Transition Tracking</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ltssm-trace">LTSSM Trace</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="references.html">References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../sysmon.html">SysMon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vio.html">VIO</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Misc Classes &amp; Utility Functions</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../containers.html">Containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../device.html">Device</a></li>
<li class="toctree-l1"><a class="reference internal" href="../report.html">Report</a></li>
<li class="toctree-l1"><a class="reference internal" href="../session.html">Session</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: black" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ChipScoPy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../pcie.html">PCIe</a> &raquo;</li>
      <li>Details</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="details">
<h1>Details<a class="headerlink" href="#details" title="Permalink to this heading">¶</a></h1>
<section id="core-details">
<h2>Core Details<a class="headerlink" href="#core-details" title="Permalink to this heading">¶</a></h2>
<dl class="simple">
<dt>Basic details of the PCIe link are available in the core properties.  These include</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">link_info</span></code> - a string to indicate the width and speed of the link, like “Gen3x8”</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">first_quad</span></code> - a string to indicate the first Versal GTY Quad used (lane 0 is always the first lane)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">quad_incr</span></code> - a boolean indicating that the index of the quad in increasing or decreasing if it is larger than 4 lanes</p></li>
</ul>
</dd>
</dl>
</section>
<section id="ltssm-state-visit-tracking">
<h2>LTSSM State Visit Tracking<a class="headerlink" href="#ltssm-state-visit-tracking" title="Permalink to this heading">¶</a></h2>
<p>There are a group of properties that start with <code class="docutils literal notranslate"><span class="pre">state.</span></code> followed by the name of LTSSM state.  These properties track
which states have been visited. If a given property value is 1, that means the state has been visited at some point in
time.  If 2, then it’s the most recent state visited.  If 0, then the state has never been visited.</p>
</section>
<section id="ltssm-state-transition-tracking">
<h2>LTSSM State Transition Tracking<a class="headerlink" href="#ltssm-state-transition-tracking" title="Permalink to this heading">¶</a></h2>
<p>In addition to tracking which states have been visited, the API also tracks how many times each transition in the LTSSM
graph has been traversed.  This group of properties start with <code class="docutils literal notranslate"><span class="pre">edge.</span></code>, and are followed by the two states involved,
separated by an underscore.  For instance, the number of times the LTSSM has gone from the “Detect” to the “Polling”
state will be in the <code class="docutils literal notranslate"><span class="pre">edge.detect_polling</span></code> property.  Keep in mind the graph is directed, so to check how many times
the state machine has gone in the reverse direction, you will need to access a different property : <code class="docutils literal notranslate"><span class="pre">edge.polling_detect</span></code>.</p>
</section>
<section id="ltssm-trace">
<h2>LTSSM Trace<a class="headerlink" href="#ltssm-trace" title="Permalink to this heading">¶</a></h2>
<p>The entire trace, that is, the historical tracking of all LTSSM transitions, will be stored in the <code class="docutils literal notranslate"><span class="pre">state.trace</span></code>
property.  This property is an array of strings.  Each entry in the array will either be a single state, a group of
sub-state transitions, or a loop.</p>
<p>For a single state, there will be only the state name with the hex encoding in parentheses:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">r</span><span class="o">.</span><span class="n">lock</span> <span class="p">[(</span><span class="mh">0x0b</span><span class="p">)]</span>
</pre></div>
</div>
<p>Many of the states in the LTSSM have sub-states.  For instance, the “Detect” state has two substates- “Quiet” and
“Active”.  The core is able to detect the traversal of those states as well, and will group them together
into a single <code class="docutils literal notranslate"><span class="pre">state.trace</span></code> entry.  So if the trace includes moving from the detect.quiet state to the detect.active
state, then back to the detect.quiet state, the entry in state.trace will be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">detect</span> <span class="p">[</span><span class="n">detect</span><span class="o">.</span><span class="n">quiet</span> <span class="p">(</span><span class="mh">0x00</span><span class="p">),</span> <span class="n">detect</span><span class="o">.</span><span class="n">active</span> <span class="p">(</span><span class="mh">0x01</span><span class="p">),</span> <span class="n">detect</span><span class="o">.</span><span class="n">quiet</span> <span class="p">(</span><span class="mh">0x00</span><span class="p">)]</span>
</pre></div>
</div>
<p>Notice the raw state encoding is in parentheses, and the sub-state traversals are enclosed in square brackets separated
by commas.</p>
<p>Sometimes a group of states is visited again and again in a loop.  To ease visualization of these this, the API detects
and groups those loops together, marking the number of times the loop has occurred.  The formatting is similar to a
sub-state transition grouping:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Loop</span> <span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="p">[</span><span class="n">r</span><span class="o">.</span><span class="n">lock</span> <span class="p">(</span><span class="mh">0x0b</span><span class="p">),</span> <span class="n">r</span><span class="o">.</span><span class="n">cfg</span> <span class="p">(</span><span class="mh">0x0d</span><span class="p">),</span> <span class="n">r</span><span class="o">.</span><span class="n">idle</span> <span class="p">(</span><span class="mh">0x0e</span><span class="p">),</span> <span class="n">l0</span> <span class="p">(</span><span class="mh">0x10</span><span class="p">)]</span>
</pre></div>
</div>
<p>The API also checks for illegal state transitions, invalid state encodings, and PCIe resets (an unexpected transition to
the detect.quiet state).  All of these actions will cause an explanatory entry to be inserted into <code class="docutils literal notranslate"><span class="pre">state.trace</span></code>.</p>
</section>
</section>


           </div>
          </div>
          
				  
				  <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../pcie.html" class="btn btn-neutral float-left" title="PCIe" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="references.html" class="btn btn-neutral float-right" title="References" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021-2024, Advanced Micro Devices, Inc.
      <span class="lastupdated">Last updated on June 06, 2024.
      </span></p>
  </div>



										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">

													                    <div class="row">
                        <div class="col-xs-24">
                          <p><a target="_blank" href="https://www.amd.com/en/corporate/copyright">Terms and Conditions</a> | <a target="_blank" href="https://www.amd.com/en/corporate/privacy">Privacy</a> | <a target="_blank" href="https://www.amd.com/en/corporate/cookies">Cookie Policy</a> | <a target="_blank" href="https://www.amd.com/en/corporate/trademarks">Trademarks</a> | <a target="_blank" href="https://www.amd.com/system/files/documents/statement-human-trafficking-forced-labor.pdf">Statement on Forced Labor</a> | <a target="_blank" href="https://www.amd.com/en/corporate/competition">Fair and Open Competition</a> | <a target="_blank" href="https://www.amd.com/system/files/documents/amd-uk-tax-strategy.pdf">UK Tax Strategy</a> | <a target="_blank" href="https://docs.xilinx.com/v/u/9x6YvZKuWyhJId7y7RQQKA">Inclusive Terminology</a> | <a href="#cookiessettings" class="ot-sdk-show-settings">Cookies Settings</a></p>
                        </div>
                    </div>
												</div>
											</div>
										</div>
										
</br>


  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>